<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>noisy-circle</title>
    <style>
        #circle {
            margin: 300px 300px;
        }

        #circle > div {
            /* border: 1px solid black; */
            transform-origin: center center;
            opacity: 0.1;
            position: absolute;
            background-color: green;
            width: 100px;
            height: 100px;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div id="circle"></div>
</body>
<script>
    while(!document.getElementById('circle')) {

    }

    const circle = document.getElementById('circle');

    let timer = 0;
    let scale = 1;
    let posX = 0;
    let posY = 0;
    let direction = 1;

    const multiplier = 200;
    const amount = 50;

    const config = [];

    const lerp = (start, end, value) => start + value * (end - start);

    for (let i = 0; i < amount; i += 1) {
        const manipulator = document.createElement('DIV');

        const node = circle.appendChild(manipulator);
        node.style.width = `${i + amount / 2}px`;
        node.style.height = `${i + amount / 2}px`;

        // node.style.transform = `scale(${lerp(0.1, 0.2, i)})`;

        config.push({
            randomOffset: Math.random() * 0.5,
            randomOffsetScale: Math.random() * 0.5,
        });
    }

    const handleTick = () => {
        timer += 0.01;

        for (let i = 0; i < amount; i += 1) {
            posX = Math.sin(timer * (i * 0.1)) * multiplier * Math.cos(timer);
            posY = Math.cos(timer * (i * 0.1)) * multiplier * Math.sin(timer);

            circle.childNodes[i].style.transform = `translate3d(${posX}px, ${posY}px, 0) scale(${i * 0.004 + 0.4 + Math.sin(timer * 0.5)})`;
            circle.childNodes[i].style.backgroundColor = `rgb(${i * (Math.sin(timer) * 1.5) + 40}, ${i * (Math.sin(timer)) + 80}, ${i * 0.3})`;
        }

        requestAnimationFrame(handleTick);
    }

    requestAnimationFrame(handleTick);
    </script>
</html>